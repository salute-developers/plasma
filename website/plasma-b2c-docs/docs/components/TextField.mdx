---
id: textfield
title: TextField
---

import { PropsTable, Description, StorybookLink } from '@site/src/components';

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# TextField
<Description name="TextField" />
<PropsTable name="TextField" exclude={['css']} />
<StorybookLink name="TextField" />

## Использование
Компонент `TextField` может содержать иконку (или кнопку) слева и справа.
Для этого используйте свойства `contentLeft` и `contentRight`:

```tsx live
import React from 'react';
import { TextField } from '@salutejs/plasma-b2c';
import { IconDownload } from '@salutejs/plasma-icons';

export function App() {
    return (
        <div>
            <TextField
                placeholder="Положение иконки"
                defaultValue="Слева"
                size="m"
                contentLeft={<IconDownload color="inherit" />}
            />
            <TextField
                placeholder="Положение иконки"
                defaultValue="Справа"
                size="m"
                contentRight={<IconDownload color="inherit" />}
            />
        </div>
    );
}
```

## Клавиатурная навигация

Данный компонент может полностью управляться с помощью клавиатуры, используя следующие клавиши:
-  по нажатию `Tab` фокусируемся на инпуте
-  если enumeratinType=`chip` после ввода текста, по нажатию `Enter`, инпут очистится и появится Chip
-  если введен текст в инпуте по нажатию `ArrowLeft` или `ArrowRight` каретка передвигается по тексту
-  при достижении левой границы текста или отсутствии текста в инпуте, при нажатии `Backspace` удаляем последний Chip, если он есть
-  при достижении левой границы текста или отсутствии текста в инпуте, при нажатии `ArrowLeft` переключаемся на последний Chip, если он есть
-  при фокусе на Chip работает переключение фокуса на другие Chip по нажатию `ArrowLeft`, `ArrowRight`; если же Chip крайний правый, при нажатии `ArrowRight` фокус переходит на инпут

### Размер поля
Размер поля задаётся с помощью свойства `size`:

```tsx live
import React from 'react';
import { TextField } from '@salutejs/plasma-b2c';

export function App() {
    return (
        <div>
            <TextField
                placeholder="Размер"
                size="l"
                defaultValue="L56"
            />
            <TextField
                placeholder="Размер"
                size="m"
                defaultValue="M48"
            />
        </div>
    );
}
```

### Статус поля
Статус поля задается с помощью свойства `status`. 
Возможные значения свойства: `success`, `warning` и `error`.
На отображение TextField так же влияют свойства `clear` и `hasDivider`:

```tsx live
import React from 'react';
import { TextField } from '@salutejs/plasma-b2c';

export function App() {
    return (
        <div style={{ display: "flex", flexDirection: "column", gap: "1rem" }}>
            <div style={{ display: "flex", gap: "0.5rem" }}>
                <TextField
                    placeholder="Статус"
                    status="success"
                    size="m"
                    defaultValue="Успех"
                />
                <TextField
                    placeholder="Статус"
                    status="warning"
                    size="m"
                    defaultValue="Предупреждение"
                />
                <TextField
                    placeholder="Статус"
                    status="error"
                    size="m"
                    defaultValue="Ошибка"
                />
            </div>
            <div style={{ display: "flex", gap: "0.5rem" }}>
                <TextField
                    placeholder="Статус"
                    status="success"
                    size="m"
                    defaultValue="Успех"
                    clear
                    hasDivider
                />
                <TextField
                    placeholder="Статус"
                    status="warning"
                    size="m"
                    defaultValue="Предупреждение"
                    clear
                    hasDivider
                />
                <TextField
                    placeholder="Статус"
                    status="error"
                    size="m"
                    defaultValue="Ошибка"
                    clear
                    hasDivider
                />
            </div>
        </div>
    );
}
```

### Подсказка
Для вывода подсказки снизу от поля используйте свойство `helperText`,
для подсказки в виде Tooltip - `hintText`, для подсказки сверху справа - `titleCaption`:

```tsx live
import React from 'react';
import { TextField } from '@salutejs/plasma-b2c';

export function App() {
    return (
        <div>
            <TextField
                placeholder="Введите значение"
                defaultValue="Значение"
                size="l"
                helperText="Подсказка снизу"
                titleCaption="Подсказка сверху"
                hintText="Подсказка в виде Tooltip"
                hintView="default"
                hintSize="m"
            />
        </div>
    );
}
```

### Режим ввода
С помощью свойства `enumerationType` можно вводить элементы как теги.
По нажатию Enter, после ввода нужного текста, он преобразуется в Chip:

```tsx live
import React from 'react';
import { TextField } from '@salutejs/plasma-b2c';

export function App() {
    return (
        <div>
            <TextField
                placeholder="Введите значение"
                defaultValue="Значение"
                size="l"
                enumerationType="chip"
                helperText="Подсказка снизу"
                chips={["Значение 1"]}
            />
        </div>
    );
}
```

### Валидация
Поддерживается валидация почты и пароля:

<Tabs>
    <TabItem value="email" label="Email" default>
        Свойства доступные при валидации почты:
        ```tsx
        type ValidationProps = {
            /*
            * Тип валидации
            */
            validationType: 'email';
            /*
            * Опции валидации
            */
            options?: EmailValidationOptions;
            /*
            * Функция, вызываемая при валидации значения.
            * Вызывается при событии onBlur и по нажатию Enter, когда фокус на поле ввода
            */
            onValidate?: (args: OnValidateArgs) => void;
        }
        ```
        Свойство `options` имеет следующий вид:
        ```tsx
        type EmailValidationOptions = {
            /*
            * Пользовательское регулярное выражение, для проверки почты на валидность
            */
            customEmailRegex?: {
                value?: RegExp;
                errorMessage?: string;
            };
            /*
            * Минимальная длина почты
            */
            minLength?: {
                value?: number;
                errorMessage?: string;
            };
            /*
            * Максимальная длина почты
            */
            maxLength?: {
                value?: number;
                errorMessage?: string;
            };
            /*
            * Минимальная длина хоста (часть почты до `@`)
            */
            minHostLength?: {
                value?: number;
                errorMessage?: string;
            };
            /*
            * Максимальная длина хоста (часть почты до `@`)
            */
            maxHostLength?: {
                value?: number;
                errorMessage?: string;
            };
            /*
            * Минимальная длина домена (часть почты от `@` до `.` перед доменной зоной)
            */
            minDomainLength?: {
                value?: number;
                errorMessage?: string;
            };
            /*
            * Максимальная длина домена (часть почты от `@` до `.` перед доменной зоной)
            */
            maxDomainLength?: {
                value?: number;
                errorMessage?: string;
            };
            /*
            * Минимальная длина доменной зоны (часть почты от `.`; например `ru`, `com`...)
            */
            minZoneLength?: {
                value?: number;
                errorMessage?: string;
            };
            /*
            * Максимальная длина доменной зоны (часть почты от `.`; например `ru`, `com`...)
            */
            maxZoneLength?: {
                value?: number;
                errorMessage?: string;
            };
            /*
            * Список разрешенных доменов (например `['mail.ru', 'yahoo.ru', 'gmail.com']`)
            */
            whitelistDomains?: {
                value?: string[];
                errorMessage?: string;
            };
            /*
            * Список запрещенных доменов (например `['org.biz', 'expressmail.com']`)
            */
            blacklistDomains?: {
                value?: string[];
                errorMessage?: string;
            };
        };
        ```

        ```tsx live
        import React, { useState } from 'react';
        import { TextField } from '@salutejs/plasma-b2c';

        export function App() {
            const options = {
                minLength: {
                    value: 7,
                    errorMessage: 'Почта слишком короткая',
                },
                maxLength: {
                    value: 30,
                    errorMessage: 'Почта слишком длинная',
                },
                minHostLength: {
                    value: 2,
                    errorMessage: 'Хост слишком короткий',
                },
                maxHostLength: {
                    value: 12,
                    errorMessage: 'Хост слишком длинный',
                },
                minDomainLength: {
                    value: 3,
                    errorMessage: 'Домен слишком короткий',
                },
                maxDomainLength: {
                    value: 6,
                    errorMessage: 'Домен слишком длинный',
                },
                minZoneLength: {
                    value: 2,
                    errorMessage: 'Доменная зона слишком короткая',
                },
                maxZoneLength: {
                    value: 5,
                    errorMessage: 'Доменная зона слишком длинная',
                },
                whitelistDomains: {
                    value: ['plasma.ru', 'gmail.com', 'mail.ru'],
                    errorMessage: 'Домен не разрешен',
                },
                blacklistDomains: {
                    value: ['hah.ah', 'heh.eh'],
                    errorMessage: 'Домен запрещен',
                },
            };

            const [error, setError] = useState('');

            const handleOnChange = () => {
                setError('');
            };

            const handleOnValidate = ({ errorMessage }: { errorMessage?: string }) => {
                setError(errorMessage || '');
            };

            return (
                <div>
                    <TextField
                        label="Валидация почты"
                        placeholder="Заполните поле"
                        validationType="email"
                        options={options}
                        status={error ? 'error' : undefined}
                        helperText={error || 'Валидация почты'}
                        onChange={handleOnChange}
                        onValidate={handleOnValidate}
                    />
                </div>
            );
        }
        ```
    </TabItem>

    <TabItem value="password" label="Password" default>
        Свойства доступные при валидации пароля:
        ```tsx
        type ValidationProps = {
            /*
            * Тип валидации
            */
            validationType: 'password';
            /*
            * Опции валидации
            */
            options?: PasswordValidationOptions;
            /*
            * Состояние сокрытия оригинального пароля
            */
            passwordHidden?: boolean;
            /*
            * Функция, вызываемая при валидации значения.
            * Вызывается при событии onBlur и по нажатию Enter, когда фокус на поле ввода
            */
            onValidate?: (args: OnValidateArgs) => void;
        }
        ```
        Свойство `options` имеет следующий вид:
        ```tsx
        type PasswordValidationOptions = {
            /*
            * Минимальная длина пароля
            */
            minLength?: {
                value?: number;
                errorMessage?: string;
            };
            /*
            * Максимальная длина пароля
            */
            maxLength?: {
                value?: number;
                errorMessage?: string;
            };
            /*
            * Должны ли быть буквы верхнего регистра в пароле
            */
            includeUppercase?: {
                value?: boolean;
                errorMessage?: string;
            };
            /*
            * Должны ли быть буквы нижнего регистра в пароле
            */
            includeLowercase?: {
                value?: boolean;
                errorMessage?: string;
            };
            /*
            * Должны ли быть цифры в пароле
            */
            includeDigits?: {
                value?: boolean;
                errorMessage?: string;
            };
            /*
            * Должны ли быть специальные символы в пароле
            */
            includeSpecialSymbols?: {
                value?: boolean;
                errorMessage?: string;
            };
        };
        ```

        ```tsx live
        import React, { useState } from 'react';
        import { TextField, IconButton } from '@salutejs/plasma-b2c';
        import { IconEyeFill, IconEyeClosedFill } from '@salutejs/plasma-icons';

        export function App() {
            const options = {
                minLength: {
                    value: 5,
                    errorMessage: 'Пароль слишком короткий',
                },
                maxLength: {
                    value: 20,
                    errorMessage: 'Пароль слишком длинный',
                },
                includeUppercase: {
                    value: true,
                    errorMessage: 'Пароль должен содержать хотя бы одну заглавную букву',
                },
                includeLowercase: {
                    value: true,
                    errorMessage: 'Пароль должен содержать хотя бы одну строчную букву',
                },
                includeDigits: {
                    value: true,
                    errorMessage: 'Пароль должен содержать хотя бы одну цифру',
                },
                includeSpecialSymbols: {
                    value: true,
                    errorMessage: 'Пароль должен содержать хотя бы один специальный символ',
                },
            };

            const [error, setError] = useState('');
            const [hidden, setHidden] = useState(false);

            const handleOnChange = () => {
                setError('');
            };

            const handleOnValidate = ({ errorMessage }: { errorMessage?: string }) => {
                setError(errorMessage || '');
            };

            const toggleShowPassword = () => setHidden(!hidden);

            const HideButton = () => (
                <IconButton size="s" view="clear" onClick={toggleShowPassword}>
                    {hidden ? <IconEyeClosedFill size="xs" color="inherit" /> : <IconEyeFill size="xs" color="inherit" />}
                </IconButton>
            )

            return (
                <div>
                    <TextField
                        label="Валидация пароля"
                        placeholder="Заполните поле"
                        validationType="password"
                        options={options}
                        status={error ? 'error' : undefined}
                        helperText={error || 'Валидация пароля'}
                        onChange={handleOnChange}
                        onValidate={handleOnValidate}
                        passwordHidden={hidden}
                        contentLeft={<HideButton />}
                    />
                </div>
            );
        }
        ```
    </TabItem>
</Tabs>

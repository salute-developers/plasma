---
id: dropdown
title: Dropdown
---

import { PropsTable, Description } from '@site/src/components';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Dropdown
Выпадающий многоуровневый список.

<Description name="Dropdown" />
<PropsTable name="Dropdown" />

## Использование
Обязательным параметром является только массив `items`.
Внутри items может быть такой же вложенный массив items.

Формат следующий:

```tsx
type Items = Array<{
        /**
         *  Значение у item
         */
        value: string | number;
        /**
         * Метка-подпись к item
         */
        label: string;
        /**
        * Сторона открытия вложенного дропдауна относительно текущего элемента;
        */
        placement: DropdownPlacement;
        /**
         * Список дочерних items.
         */
        items?: Items;
        /**
         * Item не активен
         */
        disabled?: boolean;
        /**
         * Слот для контента слева
         */
        contentLeft?: ReactNode;
        /**
         * Слот для контента справа
         */
        contentRight?: ReactNode;
        /**
        * Отобразить ли разделитель до элемента
        */
        dividerBefore?: boolean;
        /**
        * Отобразить ли разделитель после элемента
        */
        dividerAfter?: boolean;
        /**
         * Выбранный item.
         * @deprecated использовать ContentLeft || ContentRight
         */
        isActive?: boolean;
        /**
         * Кастомный цвет текста
         * @deprecated
         */
        color?: string;
        /**
         * Item не активен
         * @deprecated использовать disabled
         */
        isDisabled?: boolean;
    }>;
```

## Примеры

<Tabs>
    <TabItem value="default" label="Default" default>
        ```tsx live
        import React from 'react';
        import { Button, Dropdown } from '@salutejs/sdds-dfa';

        export function App() {
            const items = [
                {
                    value: 'north_america',
                    label: 'Северная Америка',
                },
                {
                    value: 'south_america',
                    label: 'Южная Америка',
                    items: [
                        {
                            value: 'brazil',
                            label: 'Бразилия',
                            items: [
                                {
                                    value: 'rio_de_janeiro',
                                    label: 'Рио-де-Жанейро',
                                },
                                {
                                    value: 'sao_paulo',
                                    label: 'Сан-Паулу',
                                },
                            ],
                        },
                        {
                            value: 'argentina',
                            label: 'Аргентина',
                        },
                    ],
                },
            ];


            return (
                <div style={{ height:"300px" }}>
                    <Dropdown
                        items={items}
                    >
                        <Button text="Список стран" />
                    </Dropdown>
                </div>
            );
        }
        ```
    </TabItem>

    <TabItem value="size" label="Size">
        Размер `Dropdown` задается с помощью свойства `size`.<br />
        Возможные значения свойства: `"l"`, `"m"`, `"s"` или `"xs"`.

        ```tsx live
        import React from 'react';
        import { Button, Dropdown } from '@salutejs/sdds-dfa';

        export function App() {
            const items = [
                {
                    value: 'north_america',
                    label: 'Северная Америка',
                },
                {
                    value: 'south_america',
                    label: 'Южная Америка',
                    items: [
                        {
                            value: 'brazil',
                            label: 'Бразилия',
                            items: [
                                {
                                    value: 'rio_de_janeiro',
                                    label: 'Рио-де-Жанейро',
                                },
                                {
                                    value: 'sao_paulo',
                                    label: 'Сан-Паулу',
                                },
                            ],
                        },
                        {
                            value: 'argentina',
                            label: 'Аргентина',
                        },
                    ],
                },
            ];

            return (
                <div style={{ height: "300px", display: "flex", gap: "50px" }}>
                    <Dropdown
                        items={items}
                        size="l"
                    >
                        <Button text="Список стран" />
                    </Dropdown>

                    <Dropdown
                        items={items}
                        size="m" // default
                    >
                        <Button text="Список стран" />
                    </Dropdown>

                    <Dropdown
                        items={items}
                        size="s"
                    >
                        <Button text="Список стран" />
                    </Dropdown>

                    <Dropdown
                        items={items}
                        size="xs"
                    >
                        <Button text="Список стран" />
                    </Dropdown>
                </div>
            );
        }
        ```
    </TabItem>

    <TabItem value="placement" label="Placement">
        Параметр `placement` может принимать следующие значения : `"top"`,  `"right"`, `"bottom"`, `"left"`, `"auto"`.<br />
        Default value для placement - `"bottom"`.

        ```tsx live
        import React from 'react';
        import { Button, Dropdown } from '@salutejs/sdds-dfa';

        export function App() {
            const items = [
                {
                    value: 'north_america',
                    label: 'Северная Америка',
                },
                {
                    value: 'south_america',
                    label: 'Южная Америка',
                    items: [
                        {
                            value: 'brazil',
                            label: 'Бразилия',
                            items: [
                                {
                                    value: 'rio_de_janeiro',
                                    label: 'Рио-де-Жанейро',
                                },
                                {
                                    value: 'sao_paulo',
                                    label: 'Сан-Паулу',
                                },
                            ],
                        },
                        {
                            value: 'argentina',
                            label: 'Аргентина',
                        },
                    ],
                },
            ];

            return (
                <div style={{ height: "300px", display: "flex", gap: "50px" }}>
                    <Dropdown
                        items={items}
                    >
                        <Button text="Default (bottom)" />
                    </Dropdown>

                    <Dropdown
                        items={items}
                        placement="right"
                    >
                        <Button text="Right" />
                    </Dropdown>

                    <Dropdown
                        items={items}
                        placement="left"
                    >
                        <Button text="Left" />
                    </Dropdown>

                    <Dropdown
                        items={items}
                        placement="top"
                    >
                        <Button text="Top" />
                    </Dropdown>

                    <Dropdown
                        items={items}
                        placement="auto"
                    >
                        <Button text="Auto" />
                    </Dropdown>
                </div>
            );
        }
        ```
    </TabItem>

    <TabItem value="trigger" label="Trigger">
        Параметр `trigger` принимает строку: `"click"` или `"hover"`.<br />
        Default value - `"click"`.<br />
        Для примера показано значение `"hover"`.

        ```tsx live
        import React from 'react';
        import { Button, Dropdown } from '@salutejs/sdds-dfa';

        export function App() {
            const items = [
                {
                    value: 'north_america',
                    label: 'Северная Америка',
                },
                {
                    value: 'south_america',
                    label: 'Южная Америка',
                    items: [
                        {
                            value: 'brazil',
                            label: 'Бразилия',
                            items: [
                                {
                                    value: 'rio_de_janeiro',
                                    label: 'Рио-де-Жанейро',
                                },
                                {
                                    value: 'sao_paulo',
                                    label: 'Сан-Паулу',
                                },
                            ],
                        },
                        {
                            value: 'argentina',
                            label: 'Аргентина',
                        },
                    ],
                },
            ];

            return (
                <div style={{ height:"300px" }}>
                    <Dropdown
                        items={items}
                        trigger="hover"
                    >
                        <Button text="Список стран" />
                    </Dropdown>
                </div>
            );
        }
        ```
    </TabItem>

    <TabItem value="portal" label="Portal">
        Иногда возникает необходимость вынесения выпадающего списка на уровни выше в DOM. К примеру, когда у родительского блока имеется scroll, и список будет обрезаться, чего хотелось бы избежать.\
        Для такой реализации имеется пропс `portal`, который принимает либо `ref` либо `id` html-тега.

        ```tsx live
        import React, { useRef } from 'react';
        import { Dropdown } from '@salutejs/sdds-dfa';

        export function App() {
            const items = [
                {
                    value: 'north_america',
                    label: 'Северная Америка',
                },
                {
                    value: 'south_america',
                    label: 'Южная Америка',
                    items: [
                        {
                            value: 'brazil',
                            label: 'Бразилия',
                            items: [
                                {
                                    value: 'rio_de_janeiro',
                                    label: 'Рио-де-Жанейро',
                                },
                                {
                                    value: 'sao_paulo',
                                    label: 'Сан-Паулу',
                                },
                            ],
                        },
                        {
                            value: 'argentina',
                            label: 'Аргентина',
                        },
                    ],
                },
            ];

            const ref = useRef(null)

            return (
                <div style={{ position: "relative", height: "300px" }} ref={ref}>
                    <Dropdown items={items} portal={ref}>
                        <Button text="Список стран" />
                    </Dropdown>
                </div>
            );
        }
        ```
    </TabItem>
</Tabs>

## Клавиатурная навигация

Данный компонент соответствует требования W3C: [Combobox](https://www.w3.org/WAI/ARIA/apg/patterns/combobox/) и частично [TreeView](https://www.w3.org/WAI/ARIA/apg/patterns/treeview/).

- `Tab` - закрывает Dropdown. Перемещает фокус на следующий элемент на странице;
- `Enter` - открывает/закрывает Dropdown. Если на элементе - выбирает его;
- `Space` - открывает/закрывает Dropdown. Если на элементе - выбирает его;
- `Home` - открывает Dropdown и перемещает фокус на первый элемент;
- `End` - открывает Dropdown и перемещает фокус на последний элемент;
- `PageUp` - перемещает фокус на 10 элементов выше либо в начало списка;
- `PageDown` - перемещает фокус на 10 элементов ниже либо в конце списка;
- `ArrowUp` - открывает Dropdown и перемещает фокус на первый элемент. Перемещает фокус на один элемент выше;
- `ArrowDown` - открывает Dropdown и перемещает фокус на первый элемент. Перемещает фокус на один элемент ниже;
- `ArrowRight` - если фокус на элементе вложенного списка - открывает его и перемещает фокус на первый элемент;
- `ArrowLeft` - закрывает текущий список и перемещает фокус на предыдущий;
